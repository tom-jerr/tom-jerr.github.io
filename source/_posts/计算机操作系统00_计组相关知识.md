---
title: 计算机组成原理相关知识
index_img: /img/OS.png
categories:
- OS
tags:
- 操作系统
- 计算机组成原理
comment: valine
math: true
---

# 前言

本文是计算机系统中有关计算机组成原理的先导知识，在这里总结一下
<!-- more -->

# 计算机组成原理相关知识

## RTL语言
寄存器传送语言
	一条指令可能对应多条RTL语句

## CPU相关元器件
CPU组成部分(重要)
	数据通路(Datapath):指令执行过程中,数据经过的路径,包括经过的部件;是指令的执行部件
	控制器(Control):指令译码,生成对应的控制信号,控制数据通路的动作;是指令的控制部件

电脑的五部分:
	CPU(控制器和数据通路),内存,输入,输出
	![](https://github.com/tom-jerr/MyblogImg/raw/main/src/Snipaste_2022-10-08_22-12-02.png)

数据通路:
	组合逻辑:操作部件
	时序逻辑:状态部件,存储部件

## 相关寄存器
数据寄存器(内存缓冲寄存器): Memory Data Register / Memory Buffer Register

随机存储寄存器(RAM):
	静态:SRAM,常用作高速缓存(cache)
	动态:DRAM,常用作主存(Main Memory)

只读存储器(ROM):
	闪存(Flash ROM),电擦除或者紫外线照射擦除

## cache相关概念
**cache的位数是计算机字长	cache块与主存块大小相同**

### cache与主存映射规则:
	1. 直接映射(Direct):将主存映射到cache的固定行,所以不需要淘汰策略
	2. 全相联映射(Full Associate):每个内存块映射到任一行
	3. 组相联映射:每个内存块映射到组内的任一行(N-路组相联则,N为组内可以全相联的个数)
![](https://github.com/tom-jerr/MyblogImg/raw/main/src/Snipaste_2022-10-08_22-32-24.png)

### cache淘汰替换算法
**只有一个主存块映射多个cache行时,才需要进行淘汰替换策略 (直接映射不需要替换)**

LRU(最近最少用):每次将最近一段时间最少使用的cache块替换:
	是栈算法,命中率随着组的个数增加而增加
	实现时,通过对cache行设定一个计数器,没出现就加1,命中就归0(计数值为LRU位)

FIFO(先进先出):
	不是栈算法,命中率不随着组的个数增加而增加

### 写cache策略
写命中(Write Hit):写单元在cache中
	1. 直写(Write Through):同时写cache和主存
	2. 回写(Write Back):只写cache,不写主存,缺失时一次写回,每行有一个修改位(dirty bit)

写不命中(Write Miss):
	1. 写分配(Write Allocate):主存块装入cache中,更新单元
	2. 非写分配(Not Write Allocate):直接写主存单元,不把主存块装入cache

**写回与写分配搭配,只写一次主存(缺失时写),不断更改cache**

## 虚存相关概念
主存与辅存之间的存储映射技术

逻辑上提供比物理存储区更大的虚存空间(虚拟地址/逻辑地址)

方式:分页式, 分段式, 段页式

### 分页式
虚页号对应实页号(将虚页号(高几位)替换为实页号, 逻辑地址转化为物理地址)

经常使用的页表位于主存中,其它页表存在磁盘;
	采用按需调页的方式(Demanding Paging)

使用快表(TLB):	
	高速存储器(可能在cpu中)

## 外设相关知识
### 外设通用模型
外设中存在三种信号:控制信号, 状态信号, 数据信号
![](https://github.com/tom-jerr/MyblogImg/raw/main/src/Snipaste_2022-10-08_22-58-51.png)

### 总线
总线裁决: 共享传输, 决定哪个设备使用总线; 点对点传输无需总线裁决

总线定时: 
	同步(Synchronous):时钟信号进行同步
	异步(Asynchronous):握手信号,前一个信号结束,后一个信号开始

并行/串行:
	并行:一个方向同时传多位数据,位与位需要同步
	串行:一个方向只传一位数,无需同步

### I/O设备相关
I/O设备寻址方式:
	统一编址方式:内存映射,I/O地址占据主存地址空间
	独立编址:有自己的命令和存储空间

I/O传输方式:

	1. 程序直接控制

